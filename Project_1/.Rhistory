median(df, trim = 0 , na.rm = FALSE)
df = read.csv("emline.csv",header = TRUE, sep = ",",stringsAsFactors = TRUE)
print(df)
df = read.csv("emline.csv",header = TRUE, sep = ",", colClasses = c("integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer",))
df = read.csv("emline.csv",header = TRUE, sep = ",", colClasses = c("integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer"))
df = read.csv("emline.csv",header = TRUE, sep = ",", colClasses = c("double","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer"))
df = read.csv("emline.csv",header = TRUE, sep = ",")
print(df)
mean(df$sfr, trim = 0 , na.rm = FALSE)
df = read.csv("emline.csv",header = TRUE, sep = ",")
print(df)
mean(df$sfr, trim = 0 , na.rm = FALSE)
median(df$sfr, trim = 0 , na.rm = FALSE)
x <- c(1,2,1,8)
typeof(x)
x[1]
y <- c(2,2,5,8)
x + y
x * y
x <- rep(0 , 500)
print(x)
x <- sample(3,10,replace=TRUE)
print(x)
x <- sample(100,100,replace = TRUE)
length(unique(x))
x <- c(1,2,1,8)
print(x == 1)
print(x > 3)
sum(x == 1)
print(x<2 | x>5)
x[x==1]
length(x)
sort(x, decreasing = TRUE)
unique(x)
table(x)
z <- list(x=1:2,y=c("a","b","c"))
print(z)
df = read.csv("simple.txt",header = TRUE, sep = " " , stringsAsFactors =  FALSE)
ncol(df)
colnames(df)
df = read.csv("simple.txt",header = FALSE, sep = " " , skip = 1, stringsAsFactors =  FALSE)
print(df)
df = read.csv("simple.txt",header = TRUE, sep = " " , nrows = 4, stringsAsFactors =  FALSE)
print(df)
df = read.csv("planets_small.csv",header = TRUE, sep = "," , colClasses=c("character","factor","character","integer"))
print(df)
summary(df)
df = read.csv("emline.csv",header = TRUE, sep = ",")
print(df)
mean(df$sfr, trim = 0 , na.rm = FALSE)
median(df$sfr, trim = 0 , na.rm = FALSE)
plot(cars)
x <- vector("logical" , 5)
x <- vector("logical" , 5)
print(x)
x <- rnorm(10)
print(x)
x <- rnorm(10)
print(x)
y <- x>0 & x <0.5
print(y)
y <- x>0 & x <0.5
print(y)
x[y]
x[!y]
sum(x > -0.5 & x < 0)
which(x > -0.5 & x < 0)
w <- which(x > -0.5 & x < 0)
w <- which(x > -0.5 & x < 0)
print(w)
w <- which(x > -0.5 & x < 0)
cat(x , w)
x[w]
x[-w]
x <- data.frame(u=1:2,v=c("a","b"),w=c(TRUE,FALSE))
x
typeof(x)
x <- list(1:5,c("a","b"))
x
x[[1]]
x[[2]][2]
x$1[3]
names(x) <- c("a","b")
x
x$a[3]
x <- data.frame(u=1:2,v=c("a","b"),w=c(TRUE,FALSE))
x
typeof(x)
classof(x)
x <- data.frame(u=1:2,v=c("a","b"),w=c(TRUE,FALSE))
x
typeof(x)
class(x)
x <- matrix(1:6,nrow=2)
x      # the matrix filled column-by-column (column-major order)
x[[1]] # doesn't work like you'd think it should
x <- matrix(1:6,nrow=2)
x
x[[1]] # doesn't work like you'd think it should
x[2,1] # works: row first, then column
x <- c(a=1,b=2,c=3)
attr(x,"Creator") = "Peter Freeman"
x
as.vector(x)
x <- list(c("a","b"),1:3)
x
unlist(x)
x <- c(5,3,7,1) # the 4th element is the smallest, then the 2nd element, then the 1st, then the 3rd
sort(x)
order(x)
x <- c(5,3,7,1)
sort(x)
order(x)
x <- c(5,3,7,1)
x
sort(x)
order(x)
pbinom(5,size=10,prob=0.5)
pnorm(60,mean=75,sd=10)
qnorm(0.6,mean=75,sd=10)
seq(0,10,by=0.1)
y <- dnorm(x)
y <- dnorm(x)
y
plot(x,y,type="1")
x <- seq(0,10,by = 1)
y <- dnorm(x)
plot(x,y,type="1")
x <- seq(0,10,by = 3)
y <- dnorm(x)
plot(x,y,type="1")
x <- seq(1,10,by = 3)
mean(x)
x <- seq(1,10,by = 1)
mean(x)
x <- seq(0,10,by = 1)
mean(x)
# FILL ME IN
x <- seq(0,10,by = 1)
y <- dnorm(x,mean=5,sd=2)
plot(x,y,type="1")
x <- seq(0,10,by = 1)
y <- dnorm(x,mean=5,sd=2)
plot(x,y,type="l")
# FILL ME IN
x <- seq(0,10,by = 0.1)
y <- dnorm(x,mean=5,sd=2)
plot(x,y,type="l")
# FILL ME IN
x <- seq(0,10,by = by0.1)
# FILL ME IN
x <- seq(0,10,by = 0.1)
y <- dnorm(x,mean=5,sd=2)
plot(x,y,type="l")
pbinom(5,size=10,prob=0.5)
?pbinom
?pnorm
# FILL ME IN
c <- pnorm(4,mean=5,sd=2)
1-c
# FILL ME IN
x <- seq(0, 20 , by = 1)
x
y <- dbinom(x, size = 20, prob = 0.5)
plot(x,y, typ="l")
# FILL ME IN
x <- seq(0, 20 , by = 1)
x
y <- dbinom(x, size = 21, prob = 0.5)
plot(x,y, typ="l")
# FILL ME IN
x <- seq(0, 20 , by = 1)
x
y <- dbinom(x, size = 21, prob = 0.5)
plot(x,y, pch = 19)
# FILL ME IN
x <- seq(0, 20 , by = 1)
x
y <- dbinom(x, size = 21, prob = 0.5)
plot(x,y, pch = 19)
x <- seq(0, 20 , by = 1)
x
y <- dbinom(x, size = 21, prob = 0.1)
plot(x,y, pch = 19)
# FILL ME IN
x <- seq(0, 20 , by = 1)
y <- dbinom(x, size = 21, prob = 0.5)
plot(x,y, pch = 19)
x <- seq(0, 20 , by = 1)
y <- dbinom(x, size = 21, prob = 0.1)
plot(x,y, pch = 19)
x <- seq(0, 20 , by = 1)
y <- dbinom(x, size = 21, prob = 0.9)
plot(x,y, pch = 19)
# FILL ME IN
set.seed(101)
k <- 10000
x <- rnorm(20,mean=5,sd=1)
x.bar <- rep(NA,k)
for ( ii in 1:k ) {
s <- sample(length(x),length(x),replace=TRUE)
x.bar[ii] <- mean(x[s])
}
quantile(x.bar,probs=c(0.025,0.975))
# FILL ME IN
set.seed(101)
k <- 10000
x <- rnorm(20,mean=5,sd=1)
x.bar <- rep(NA,k)
for ( ii in 1:k ) {
s <- sample(length(x),length(x),replace=TRUE)
x.bar[ii] <- median(x[s])
}
quantile(x.bar,probs=c(0.025,0.975))
?filter()
# FILL ME IN
df.new %>% group_by(., type) %>% summarize(.,Median = median(u))
type <- rep("FAINT",nrow(df.new))
load(url("https://raw.githubusercontent.com/pefreeman/36-290/master/EXAMPLE_DATASETS/BUZZARD/Buzzard_DC1.Rdata"))
set.seed(101)
s  <- sample(nrow(df),4000)
df <- df[s,-c(7:13)]
# FILL ME IN
dim(df)
nrow(df)
ncol(df)
length(df)
# FILL ME IN
names(df)
# FILL ME IN
summary(df)
suppressMessages(library(tidyverse))
head(df[,1:2])                         # base R
df %>% select(.,u,g) %>% head(.)       # dplyr
# FILL ME IN
df %>% filter(., i < 25 & g > 22) %>% arrange(y) %>% head(.,6)
# FILL ME IN
df %>% select(g) %>% round() %>% table()
# FILL ME IN
df %>% filter(., u == 99 | g == 99 | z == 99 | y == 99) %>% nrow()
# FILL ME IN
df.new <- filter(df , (u != 99 & g != 99 & z != 99 & y != 99))
dim(df.new)
summary(df.new)
type <- rep("FAINT",nrow(df.new))
w <- which(df.new$i<25)
type[w] <- "BRIGHT"
type <- factor(type)
unique(type)
df.new <- cbind(type,df.new)
# FILL ME IN
df.new %>% group_by(., type) %>% summarize(.,Number = n())
# FILL ME IN
df.new %>% group_by(., type) %>% summarize(.,Median = median(u))
# FILL ME IN
df.newer <- mutate(df.new , gr = g - r , ri = r - i)
summary(df.newer)
df.newer
# FILL ME IN
df.newer %>% group_by(., type) %>% summarize(., Mean_gr = mean(gr) , Mean_ri = mean(ri))
gr.faint  <- df.newer$gr[df.newer$type=="FAINT"]
gr.bright <- df.newer$gr[df.newer$type=="BRIGHT"]
hist(gr.faint,prob=TRUE,main=NULL,col=alpha("firebrick",0.4),ylim=c(0,1.2),xlab="color",breaks=seq(-1.5,5.5,by=0.2))
hist(gr.bright,prob=TRUE,main=NULL,col=alpha("dodgerblue",0.4),breaks=seq(-1.5,5.5,by=0.2),add=TRUE)
# FILL ME IN
t.test(gr.faint , gr.bright , alternative = "two.sided" )
# FILL ME IN
df.newer <- mutate(df.new , gr = g - r , ri = r - i)
summary(df.newer)
#df.newer
# FILL ME IN
df.quant <- df %>% select(-Gender , - Drugs , -Complications)
# FILL ME IN
df.quant <- df %<% select(-Gender , - Drugs , -Complications)
# FILL ME IN
df <- read.csv("heart_disease.csv" , header = TRUE)
df
# FILL ME IN
summary(df)
# FILL ME IN
df$Drugs <- factor(df$Drugs)
df$Complications <- factor(df$Complications)
summary(df)
names(df)
suppressMessages(library(tidyverse))
df <- df %>% select(-id)
names(df)
# FILL ME IN
# FILL ME IN
df.quant <- df %>% select(-Gender , - Drugs , -Complications)
# FILL ME IN
df.quant <- df %>% select(-Gender , - Drugs , -Complications)
ggplot(df.quant_long, aes(x = value)) +
geom_histogram(col = "burlywood", fill = "lightblue", bins = 30) +
facet_wrap(~variable, scales = "free_x") +
theme_minimal()
# FILL ME IN
df.quant <- df %>% select(-Gender , - Drugs , -Complications)
ggplot(df.quant, aes(x = value)) +
geom_histogram(col = "burlywood", fill = "lightblue", bins = 30) +
facet_wrap(~variable, scales = "free_x") +
theme_minimal()
# FILL ME IN
df.quant <- df %>% select(-Gender , - Drugs , -Complications)
df.quant_long <-df.quant %>%
gather(key = "variable", value = "value")
ggplot(df.quant_long, aes(x = value)) +
geom_histogram(col = "burlywood", fill = "lightblue", bins = 30) +
facet_wrap(~variable, scales = "free_x") +
theme_minimal()
# FILL ME IN
hist(log10(df$Cost),col="blue")
df %>% filter(.,Cost>0) -> df
df$Cost = log10(df$Cost)
# FILL ME IN
gender_table <- table(data$Gender)
# FILL ME IN
gender_table <- table(df$Gender)
drugs_table <- table(df$Drugs)
complications_table <- table(df$Complications)
print(gender_table)
print(drugs_table)
print(complications_table)
df.cat <- data %>%
select(Gender, Drugs, Complications) %>%
gather(key = "variable", value = "value")
# FILL ME IN
gender_table <- table(df$Gender)
drugs_table <- table(df$Drugs)
complications_table <- table(df$Complications)
print(gender_table)
print(drugs_table)
print(complications_table)
df.cat <- df %>%
select(Gender, Drugs, Complications) %>%
gather(key = "variable", value = "value")
ggplot(df.cat, aes(x = value)) +
geom_bar(col = "black", fill = "lightblue") +
facet_wrap(~variable, scales = "free_x") +
labs(x = "Category", y = "Count") +
theme_minimal()
# FILL ME IN
table(df$Drugs , df$Complications)
# FILL ME IN
df.cat <- df %>%
select(Gender, Drugs, Complications) %>%
gather(key = "variable", value = "value")
ggplot(df.cat, aes(x = value, y = rep(log(df$Cost), 3))) +
geom_boxplot(fill = "lightblue", color = "black") +
facet_wrap(~variable, scales = "free_x") +
ylab("Log Cost") +
xlab("Categorical Variables") +
theme_minimal()
# FILL ME IN
df.cat <- df %>%
select(Gender, Drugs, Complications) %>%
gather(key = "variable", value = "value")
ggplot(df.cat, aes(x = value, y = rep(log(df$Cost), 3))) +
geom_point(fill = "lightblue", color = "black") +
facet_wrap(~variable, scales = "free_x") +
ylab("Log Cost") +
xlab("Categorical Variables") +
theme_minimal()
# FILL ME IN
df.cat <- df %>%
select(Age, Interventions, ERVisit, Comorbidities, Duration) %>%
gather(key = "variable", value = "value")
ggplot(df.cat, aes(x = value, y = rep(log(df$Cost), 5))) +
geom_point(alpha = 0.6, color = "black") +
facet_wrap(~variable, scales = "free_x") +
ylab("Cost") +
xlab("Quantitative Variables") +
theme_minimal()
install.packages("corrplot")
suppressMessages(library(corrplot))
# FILL ME IN
suppressMessages(library(corrplot))
# FILL ME IN
df.quant <- df.select(Age, Interventions, ERVisit, Comorbidities, Duration)
suppressMessages(library(corrplot))
# FILL ME IN
df.quant <- df %<% select(Age, Interventions, ERVisit, Comorbidities, Duration)
suppressMessages(library(corrplot))
# FILL ME IN
df.quant <- df %>% select(Age, Interventions, ERVisit, Comorbidities, Duration)
cor_matrix <- cor(df.quant)
corrplot(cor_matrix, method = "ellipse")
(df <- data.frame(x=1:3,y=1:3,z=1:3))
# FILL ME IN
dist(rbind(df[2,] , df[3,]))
file.path <- "https://raw.githubusercontent.com/pefreeman/36-290/master/EXAMPLE_DATASETS/DRACO/draco_photometry.Rdata"
load(url(file.path))
df <- data.frame(ra,dec,"v"=velocity.los,log.g,"g"=mag.g,"r"=mag.r,"i"=mag.i)
rm(file.path,ra,dec,velocity.los,log.g,temperature,mag.u,mag.g,mag.r,mag.i,mag.z,metallicity,signal.noise)
suppressMessages(library(tidyverse))
# FILL ME IN
names(df)
df.new <- df %>% filter(., dec > 56 & ra < 264 & (v < -250 & v > -350)) %>% mutate(gr = g - r , ri = r - i)
df.new %>% select(., -v, -g, -r, -i) -> df.new
names(df.new)
suppressMessages(library(GGally))
# FILL ME IN
df_scaled <- kmeans(scale(df.new),2,nstart = 10)
ggpairs(df.new,progress=FALSE,mapping=aes(color=factor(df_scaled$cluster)))
# FILL ME IN
table(df_scaled$cluster)
total_SS <- sum(scale(df.new)^2)
between_SS <- df_scaled$betweenss
ratio <- between_SS / total_SS
ratio
# FILL ME IN
wss <- rep(NA,10)
for ( ii in 1:10 ) {
km.out <- kmeans(scale(df.new),ii,nstart=20)
wss[ii] <- km.out$tot.withinss;
}
df.plot <- data.frame("k"=1:10,wss)
ggplot(data=df.plot,mapping=aes(x=k,y=wss)) +
geom_point(col="seagreen") +
geom_line(col="seagreen") +
ylab("Within-Cluster Sum-of-Squares")
# FILL ME IN
library(cluster)
ss <- rep(NA,10)
for ( ii in 2:10 ) {
km.out <- kmeans(scale(df.new),ii,nstart=20)
ss[ii] <- mean(silhouette(km.out$cluster,
dist(scale(df)))[,3])
}
# FILL ME IN
wss <- rep(NA,10)
for ( ii in 1:10 ) {
km.out <- kmeans(scale(df.new),ii,nstart=20)
wss[ii] <- km.out$tot.withinss;
}
df.plot <- data.frame("k"=1:10,wss)
ggplot(data=df.plot,mapping=aes(x=k,y=wss)) +
geom_point(col="seagreen") +
geom_line(col="seagreen") +
ylab("Within-Cluster Sum-of-Squares")
# FILL ME IN
df.new <- read.csv("diamonds.csv" , stringsAsFactors = TRUE)
df.new %>% select(., -X ,-cut , -color , -clarity) <- df.new
# FILL ME IN
df.new <- read.csv("diamonds.csv" , stringsAsFactors = TRUE)
df.new %<% select(., -X ,-cut , -color , -clarity) <- df.new
# FILL ME IN
df.new <- read.csv("diamonds.csv" , stringsAsFactors = TRUE)
df.new %>% select(., -X ,-cut , -color , -clarity) -> df.new
# FILL ME IN
df.new <- read.csv("diamonds.csv" , stringsAsFactors = TRUE)
df.new %>% select(., -X ,-cut , -color , -clarity) -> df.new
names(df.new)
?slice()
# FILL ME IN
set.seed(303)
s <- sort(sample(nrow(df.new),1000))
df.small <- slice(df.new , s)
# FILL ME IN
kmeans <- clusGap(df.small, FUN = kmeans, K.max = 8)
fviz_gap_stat(kmeans)
install.packages("factoextra")
# FILL ME IN
library(factoextra)
kmeans <- clusGap(df.small, FUN = kmeans, K.max = 8)
# FILL ME IN
library(factoextra)
library(cluster)
kmeans <- clusGap(df.small, FUN = kmeans, K.max = 8)
df = read.csv("cmu-sleep.csv")
df = read.csv("cmu-sleep.csv")
```
print("Hello")
setwd("~/CMU/Overview of Statistical Learning/Project")
df = read.csv("cmu-sleep.csv")
print(df)
# FILL ME IN
df = read.csv("simple.txt",header = TRUE, sep = " " , stringsAsFactors =  FALSE)
ncol(df)
colnames(df)
ncol(df)
colnames(df)
df = read.csv("cmu-sleep.csv" , stringsAsFactors = FALSE)
source("~/CMU/Overview of Statistical Learning/Project/Project_1.R", echo=TRUE)
colnames(df)
print(ncol(df) , colnames(df))
colnames(df)
ncol(df)
df = read.csv("cmu-sleep.csv" , stringsAsFactors = FALSE)
ncol(df)
colnames(df)
summary(df)
nrows(df)
df = read.csv("cmu-sleep.csv" , header = TRUE , stringsAsFactors = FALSE)
ncol(df)
colnames(df)
nrow(df)
summary(df)
df = read.csv("cmu-sleep.csv" , header = TRUE , stringsAsFactors = TRUE)
ncol(df)
colnames(df)
nrow(df)
summary(df)
df <- df %>% select(-cohort)
library(dplyr)
df <- df %>% select(-cohort)
df.names()
names(df)
summary(df)
df_clean <- df %>% filter(complete.cases(.))
nrow(df_clean)
nrow(df)
